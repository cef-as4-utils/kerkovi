<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>AS4 Conformance and Interoperability Connectivity Manager</title>
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("img/favicon.png")">
    <script type="text/javascript" src="@routes.Assets.versioned("js/jquery-2.1.4.min.js")"></script>
    <script type="text/javascript" src="@routes.JSRoutesController.jsRoutes()"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("js/codemirror.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("js/active-line.js")"></script>
    <script type="text/javascript" src="@routes.Assets.versioned("js/xml.js")"></script>
    <script src="@routes.Assets.versioned("js/main.js")"></script>

    <link rel="stylesheet" href="@routes.Assets.versioned("css/codemirror.css")" rel="stylesheet">
    <link rel="stylesheet" href="@routes.Assets.versioned("css/theme/mdn-like.css")" rel="stylesheet">
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/main.css")" />
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/children.css")" />
    <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,200,200italic,300,300italic,400italic,900,700italic,600italic,600,700&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
    <link href='https://fonts.googleapis.com/css?family=Raleway:400,300,500,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300italic,400italic,600,700' rel='stylesheet' type='text/css'>
  </head>
  <body>
    <table class="container" align="center">
      <tr>
        <td>
          <table><tr class="titleFirstRow">
            <td style="width:1% ;">
              <div class="kerkovi" style="display: inline ;" id="top"><b style="color:red ;">admin</b> <br/></div>
            </td> <td align="right" style="width:99% ; vertical-align: bottom">&nbsp;
          </td>
          </tr>
          </table>
          <ul class="menu">
            <li><a href="#">Nowhere</a></li>
            <li>&nbsp;</li>
          </ul>
          <div id="mainView">

            <script>
    function approve(id){
      $.ajax('/approve?id='+id)
          .done(function (data) {
            alert(data)
          })
          .fail(function (data) {
            alert(data.responseText);
          })
    }
  </script>
            <h2>All gateways</h2>
            <table>
            @for( gw <- Databeyz.all) {
              @if(!gw.approved) {
                <tr><td>@gw.name</td><td>@gw.partyID</td><td>@gw.mshAddress</td><td>@gw.backendAddress</td><td><a onclick="approve(@gw.id)" href="#">
                  Approve</a></td></tr>
              }
            }
            </table>

          </div>

        </td>
      </tr>
    </table>

    <div id="errorDialog" class="errorDialog" title="Error">
      <table width="100%" height="100%" cellpadding="0" cellspacing="0" style="padding:3px ;">
        <tr><th style="height:30px ;" align="left"><span>&nbsp;Error</span></th> <td align="right"><button class="bigcancel" onclick='disposeError()'>\u2718</button></td></tr>
        <tr>
          <td colspan="2">
            <div id="errorDialogContent" class="errorDialogContent">
            </div>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
